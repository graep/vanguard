<!-- src/app/pages/van-selection/van-selection.page.html -->
<app-header class="ion-text-center" title="Van Selection" [showBackButton]="false"></app-header>

<ion-content class="van-selection-content">
  <div class="van-selection-container">
    <!-- Hero Section -->
    <div class="hero-section">
      <div class="hero-content">
        <h1 class="hero-title">Select Your Van</h1>
        <p class="hero-subtitle">Choose from available vehicles to start your inspection</p>
      </div>
    </div>
    
    <!-- Loading spinner -->
    <div *ngIf="isLoading" class="loading-container">
      <div class="loading-spinner">
        <ion-spinner name="crescent"></ion-spinner>
        <p>Loading available vans...</p>
      </div>
    </div>
    
    <!-- Van selection cards -->
    <div *ngIf="!isLoading" class="van-types-container">
      <div *ngFor="let vanType of getVanTypes()" class="van-type-card">
        <div class="van-type-header">
          <div class="van-type-icon">
            <img *ngIf="vanType === 'EDV'" src="assets/EDV.jpg" alt="EDV" class="van-type-image">
            <img *ngIf="vanType === 'CDV'" src="assets/CDV.jpg" alt="CDV" class="van-type-image">
            <img *ngIf="vanType === 'LMR'" [src]="getLmrImage(getVansByType(vanType)[0])" alt="LMR" class="van-type-image">
            <ion-icon *ngIf="vanType !== 'EDV' && vanType !== 'CDV' && vanType !== 'LMR'" [name]="getVanTypeIcon(vanType)"></ion-icon>
          </div>
          <div class="van-type-info">
            <h3 class="van-type-title">{{ vanType }}</h3>
            <p class="van-type-count">{{ getVansByType(vanType).length }} available</p>
          </div>
        </div>
        
        <div class="van-grid">
          <div *ngFor="let van of getVansByType(vanType)" 
               class="van-item-card"
               [class.disabled]="van.isGrounded"
               (click)="selectVan(van)">
            <div class="van-number">{{ van.number }}</div>
            <div class="van-status" *ngIf="van.isGrounded">
              <span class="status-badge grounded">
                <ion-icon name="warning"></ion-icon>
                Grounded
              </span>
            </div>
            <div *ngIf="van.estimatedMiles" class="van-mileage">
              <ion-icon name="speedometer"></ion-icon>
              {{ van.estimatedMiles | number:'1.0-0' }} miles
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ion-content>