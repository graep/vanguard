<div class="camera-content">
  <!-- Camera Preview -->
  <div class="camera-preview" *ngIf="!capturedImage">
    <div class="camera-shell">
      <video #videoElement autoplay muted playsinline webkit-playsinline></video>
      
      <!-- Alignment Overlay -->
      <div class="overlay">
        <img [src]="alignmentOverlay" class="alignment-guide" alt="Van Alignment Guide" />
      </div>
      
      <!-- Rotation Prompt -->
      <div class="rotation-prompt" *ngIf="showRotationPrompt">
        <div class="rotation-content">
          <ion-icon name="phone-portrait-outline" class="rotation-icon"></ion-icon>
          <h2>Rotate Your Device</h2>
          <p>Please rotate your phone to landscape mode to take photos</p>
          <div class="rotation-arrow">â†»</div>
        </div>
      </div>
      
      <!-- Close Button -->
      <div class="close-button">
        <ion-button (click)="cancel()" fill="clear" color="light">
          <ion-icon name="close" size="large"></ion-icon>
        </ion-button>
      </div>
      
      <!-- Camera Controls -->
      <div class="camera-controls">
        <ion-button 
          class="capture-button" 
          (click)="capturePhoto()"
          [disabled]="isCapturing || !isLandscape"
          fill="solid"
          shape="round"
        >
          <ion-icon name="camera"></ion-icon>
        </ion-button>
      </div>
    </div>
  </div>

  <!-- Captured Image Preview -->
  <div class="captured-preview" *ngIf="capturedImage">
    <img [src]="capturedImage" alt="Captured photo" class="captured-image">
    
    <!-- Image Controls -->
    <div class="image-controls">
      <ion-button (click)="retakePhoto()" fill="outline" color="medium">
        <ion-icon name="refresh"></ion-icon>
        Retake
      </ion-button>
      
      <ion-button (click)="confirmPhoto()" fill="solid" color="primary">
        <ion-icon name="camera"></ion-icon>
        Use Photo
      </ion-button>
    </div>
  </div>

  <!-- Hidden canvas for capturing -->
  <canvas #canvasElement style="display: none;"></canvas>
</div>
