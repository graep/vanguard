<div class="daily-controls-container">
  <!-- Date Info Display (Top Left) -->
  <div class="date-info-container">
    <div class="totals-container">
      <div class="total-container">
        <span class="total-number">{{ getDayOfMonth() }}</span>
      </div>
      <div class="day-label">Day</div>
    </div>
  </div>

  <!-- Work Assignments Counter (Top Right) -->
  <div class="assignments-counter-container">
    <div class="assignments-counter" 
         [class.has-assignments]="totalAssigned > 0"
         (click)="openWorkAssignmentsModal()"
         [class.clickable]="totalAssigned > 0">
      <ion-icon name="people-outline"></ion-icon>
      <span class="counter-number">{{ totalAssigned }}</span>
      <span class="counter-label">Assigned</span>
    </div>
    <div class="tooltip" *ngIf="totalAssigned > 0 && roleBreakdown.length > 0">
      <div class="tooltip-content">
        <div class="tooltip-title">Work Assignments</div>
        <div class="tooltip-items">
          <div class="tooltip-item" *ngFor="let item of roleBreakdown">
            <span class="tooltip-role">{{ item.role }}:</span>
            <span class="tooltip-count">{{ item.count }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Date Controls Row - Positioned at bottom right -->
  <div class="date-controls-bottom-right">
    <div class="date-controls">
      <div class="date-buttons">
        <ion-button 
          fill="outline" 
          size="small"
          [class.selected]="isTodaySelected"
          (click)="onSelectToday()">
          Today
        </ion-button>
        <ion-button 
          fill="outline" 
          size="small"
          [class.selected]="isTomorrowSelected"
          (click)="onSelectTomorrow()">
          Tomorrow
        </ion-button>
      </div>
      <div class="date-input-wrapper" (click)="onOpenDatePicker()">
        <input 
          #dateInput
          type="date" 
          [value]="selectedDate"
          (change)="onDateChange($event)"
          (click)="$event.stopPropagation()"
          class="date-input"
        />
      </div>
    </div>
  </div>

  <!-- Save Checked Assignments Button -->
  <div class="controls-row route-row">
    <div class="route-controls">
      <ion-button 
        *ngIf="hasCheckedAssignments"
        fill="solid" 
        color="success"
        size="small"
        [disabled]="isSaving"
        (click)="onSubmitChecked()">
        <ion-icon name="save" slot="start"></ion-icon>
        Save {{ checkedCount }}
      </ion-button>
    </div>
  </div>
</div>

